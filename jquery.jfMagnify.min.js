!function(t){t.jfMagnify=function(e,n){function i(){l.css({"transform-origin":"top left","-ms-transform-origin":"top left","-webkit-transform-origin":"top left","-moz-transform-origin":"top left",transform:"scale("+d.settings.scale+","+d.settings.scale+")","-ms-transform":"scale("+d.settings.scale+","+d.settings.scale+")","-webkit-transform":"scale("+d.settings.scale+","+d.settings.scale+")","-moz-transform":"scale("+d.settings.scale+","+d.settings.scale+")",top:"0",width:c.get(0).getBoundingClientRect().width,height:c.get(0).getBoundingClientRect().height});var t=c.get(0).getBoundingClientRect().width,e=l.get(0).getBoundingClientRect().width,n=c.get(0).getBoundingClientRect().height,i=l.get(0).getBoundingClientRect().height;o=a(t,e),f=a(n,i),d.settings.center&&(h=l.parent().outerWidth()/2,y=l.parent().outerHeight()/2,p=r.outerWidth()/2,v=r.outerWidth()/2),s()}function s(){var t=g((r.position().left+p)/o),e=g((r.position().top+v)/f);l.css({left:t+h,top:e+y})}function a(t,e){var n;return n=t>e?e/t:t/e}function g(t){var e=-1*t;return e}var o,f,r,l,c,d=this,m=t(e),e=e,u=m.data(),h=0,y=0,p=0,v=0,w={center:!0,scale:2,containment:e,magnifyGlass:".magnify_glass",magnifiedElement:".magnified_element",magnifiedZone:".magnify_glass",elementToMagnify:".element_to_magnify"};d.settings={},d.init=function(){d.settings=t.extend({},w,n,u),t(window).bind("resize",i),r=m.find(d.settings.magnifyGlass),$magnifiedZone=m.find(d.settings.magnifiedZone),c=m.find(d.settings.elementToMagnify);var e=c.clone(!0);l=t(e).removeAttr("id").addClass(d.settings.magnifiedElement.slice(1)),$magnifiedZone.append(l),r.draggable({containment:d.settings.containment,drag:s}),i()},d.destroy=function(){t(window).unbind("resize",i),r.draggable("destroy"),l.remove(),m.removeData("jfMagnify",d),d=null},d.scaleMe=function(t){d.settings.scale=t,i()},d.init()},t.fn.jfMagnify=function(e){return this.each(function(){if(void 0==t(this).data("jfMagnify")){var n=new t.jfMagnify(this,e);t(this).data("jfMagnify",n)}})}}(jQuery);